quarkus:
  mongodb:
    connection-string: ${MONGO_URL:mongodb://192.168.8.9:27017}
    database: ${MONGO_DATABASE:oci_registry}
  http:
    limits:
      max-body-size: 4G
    host: 0.0.0.0
    port: 8911
    cors:
      ~: true
      origins: "*"
      headers: "*"
      methods: "*"
  smallrye-openapi:
    info-title: OCI Distribution Registry API
    info-version: 1.0.0
    info-description: OCI Distribution Specification compliant registry with MongoDB and MinIO S3

oci:
  s3:
    endpoint: ${S3_ENDPOINT:http://192.168.8.9:19000}
    access-key: ${S3_ACCESS_KEY:minioadmin}
    secret-key: ${S3_SECRET_KEY:minioadmin}
  storage:
    bucket: ${S3_BUCKET:oci-registry}
    no-mongo: ${NO_MONGO:true}
    no-minio: ${NO_MINIO:true}
    local-storage-path: ${LOCAL_STORAGE_PATH:/tmp/funeral-storage}
  auth:
    # true if we enable auth system.
    enabled: ${AUTH_ENABLED:true}
    allow-anonymous-pull: ${AUTH_ALLOW_ANONYMOUS_PULL:true}
    realm: ${AUTH_REALM:http://192.168.8.9:8911/v2/token}
    service: ${AUTH_SERVICE:funeral-registry}
    jwt:
      issuer: ${JWT_ISSUER:funeral-registry}
      expiration-seconds: ${JWT_EXPIRATION:3600}
    auto-create:
      enabled: ${AUTH_AUTO_CREATE_ENABLED:true}
      username: ${AUTH_AUTO_CREATE_USERNAME:admin}
      password: ${AUTH_AUTO_CREATE_PASSWORD:password}
      email: ${AUTH_AUTO_CREATE_EMAIL:admin@funeral.local}
      roles: ${AUTH_AUTO_CREATE_ROLES:ADMIN;USER;PUSH_ALL;PULL_ALL}

smallrye-jwt:
  sign:
    key:
      location: classpath:privateKey.pem
    algorithm: RS256

mp:
  jwt:
    verify:
      publickey:
        location: classpath:publicKey.pem
      issuer: ${JWT_ISSUER:funeral-registry}
